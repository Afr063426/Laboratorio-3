---
title: "Laboratorio 3"
date: "`r Sys.Date()`"
output:
  rmdformats::readthedown:
    highlight: kate
    toc_depth: 3
    embed_fonts: true
    use_bookdown: false
    pandoc_args: Null 
---


```{r setup, include=FALSE}
library(knitr)
library(rmdformats)
library(kableExtra)
library(tidyverse)
##Importante instalar lo que sigue acontinuacion, que está comentado
#devtools::install_github("juba/rmdformats")
## Global options
options(max.print="75")
opts_chunk$set(echo=FALSE,
	             cache=TRUE,
               prompt=FALSE,
               tidy=TRUE,
               comment=NA,
               message=FALSE,
               warning=FALSE)
opts_knit$set(width=75)
```

# Instrucciones


- El laboratorio consiste en un trabajo en equipo en el cual se implementen los conceptos desarrollados en clase y la profundización de los mismos. 
- El objetivo general es: Aplicar el método de Árbol binomial en instrumentos financieros de renta variable. 
- Debe desarrollar el modelo para el cálculo, con una programación eficiente y ordenada en RStudio que incluya lo siguiente: 
    - El modelo para el árbol binomial. 
    - El modelo para la valoración del derivado.
    - Un análisis de resultados obtenidos. 
    - Debe entregar el código que incluya una breve explicación de la funcionalidad del mismo.
    
- En trabajo escrito RMarkdown deberá incluir lo siguiente: 
    - Párrafo introductorio donde comenta el trabajo realizado. 
    - Marco teórico que fundamente el laboratorio, según lo visto en clase y profundizaciones de contenidos.
    - Metodología utilizada en el laboratorio. 
    - Una sección (o capítulo) de descripción de los datos históricos a utilizar, donde se describan las principales características de las variables relevantes. 
    - Una sección (o capítulo)  con el análisis del árbol binomial y su implementación para valorar un derivado financiero. 
    - Una sección (o capítulo)  que incluya resultados. 
    - Una sección (o capítulo)  en el cual realice conclusiones
    - Refencias bibliográficas.
- Para llevar a cabo el ejercicio, se le proponen las siguientes preguntas de investigación. Elija la que más le guste o bien, puede proponer una nueva pregunta de investigación.
    
    
    
    
# Sugerencia 1

¿Cómo el precio de las acciones de alguna empresa nacional observadas con cierta frecuencia se pueden utilizar para determinar el precio que tendrá una opción de venta o de compra en el futuro, si el subyacente es la acción observada?

* Buscar datos el activo subyacente. 
* Implementar el modelo de árbol binomial para predecir los precios futuros del subyacente.
* Utilizar la modelación anterior para determinar el precio que debe tener la opción de venta (o compra), utilizando un modelo adecuado de valoración.

# Sugerencia 2

¿Cómo afecta la posibilidad de incumplimiento a la opción de compra de un bono a 10 años de la Compañía ABC que es exigible en cualquier momento después de cinco años? El modelo crediticio y la opción no son separables porque se impactan entre sí. 

# Sugerencia 3

¿Cómo utilizar el árbol binomial para estimar un rango para la inflación a seis meses en Costa Rica?






# Marco teórico

En primera instancia se mostrará la notación que se mantendrá a los largo del trabajo.
```{r, include=FALSE}
notacion<-c("$t_j$","$t_0$","$t_f$","$\\tau$","$n$","$h_n$","$S(t_j),S_{j}$","$p_n$","$1-p_n$","$u_n$","$d_n$")
significado<-c("Tiempo $j$","Tiempo inicial","Tiempo final","$t_f-t_0$","Cantidad de periodos en el que se divide $[t_f,t_0]$","Largo de cada periodo en el se divide $[t_f,t_0]$, espeficamente el largo es $\frac{\\tau}{n}$","Precio de la acci\'on en el tiempo j","Probabilidad de que el precio de la acción aumente de un periodo a otro.","Probabilidad de que el precio de la acción disminuya de un periodo a otro.","Aumento que tiene el precio de la acción de un periodo a otro","Disminución que tiene el precio de la acción de un periodo a otro")
tablaNotacion<-data.frame(Notacion=notacion,Significado=significado)
tablaNotacion%>%kbl()%>%kable_material()
```

\par Se procede a explicar lo que son los árboles binomiales, esto se realizará siguiendo la idea del libro de _An introduction to Mathematical Finance with Application_. Partiendo de estos se tiene que los árboles binomiales en el caso de las acciones, permiten visualizar el comportamiento que tiene que tiene una acción, es decir cómo su precio aumenta y disminuya. Estos árboles se pueden elaborar de la cantidad $n$ que se quiera, diviendo el intervalo de tiempo $[t_0,t_f]$ en $n$ periodos del mismo largo $h_n$.

\par A estos se le llaman binomiales ya que, el precio aumenta o disminuye en una proporcion $u_n$ o $d_n$ respectivamente en cada periodo y estas proporciones depende de la cantidad de periodos en las que se divida el intervalo de tiempo. Así mismo el aumento o disminución del precio está ligado a una probabilidad $p_n$ que es la probabilidad de aumentar un periodo o $1-p_n$ la probabilidad de disminuir en un periodo y que támbién está ligado con la cantidad de periodos en el que se divida el intervalo de tiempo. La siguiente figura muestra un árbol binomial de $n$ periodos.

\par Ahora 


Marco teórico, curva soberana
Metodologia, periodo y que datos

